{"version":3,"sources":["../../model/product.js"],"names":["category","Promise","resolve","reject","get","url","categories","success","res","data","errmsg","brands","cid","classId","products","bid","num","brandId","pageIndex","productInfo","param","productId","wx","request","evaluate","params","selects","search","key","priceHistory","price"],"mappings":"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","file":"product.js","sourcesContent":["import { url } from '../config/index';\nimport Utils from '../util/utils';\n\nexport default {\n  // 类目\n  category() {\n    return new Promise((resolve, reject) => {\n      Utils.get({\n        url: url.categories,\n        success: function (res) {\n          if (res.data) {\n            resolve(res.data.data);\n          } else {\n            reject(res.errmsg);\n          }\n        }\n      });\n    })\n  },\n  // 品牌\n  brands({ cid }) {\n    return new Promise((resolve, reject) => {\n      Utils.get({\n        url: url.brands,\n        data: { classId: cid },\n        success(res) {\n          if (res.data) {\n            resolve(res.data.data);\n          } else {\n            reject(res.errmsg);\n          }\n        }\n      });\n    })\n  },\n  // 机型\n  products({ cid, bid, num }) {\n    return new Promise((resolve, reject) => {\n      Utils.get({\n        url: url.products,\n        data: {\n          classId: cid,\n          brandId: bid,\n          pageIndex: num\n        },\n        success(res) {\n          if (res.data) {\n            resolve(res.data.data);\n          } else {\n            reject(res.errmsg);\n          }\n        }\n      });\n    })\n  },\n  // 获取产品信息\n  productInfo(param) {\n    let productId = param.productId;\n    return new Promise((resolve, reject) => {\n      wx.request({\n        url: `https://www.huishoubao.com/api/get_product_param?itemid=${productId}&pid=1056`,\n        success (res){\n          if (res.data) {\n            resolve(res.data.data);\n          } else {\n            reject(res.errmsg);\n          }\n        }\n      })\n    })\n  },\n  // 估价https://www.huishoubao.com/v2/1196/api/products_evaluate/41567/12-17-36-40-63-68-73-77-83-10-21-23-27-30-53-55-59\n  evaluate (params){\n    return new Promise((resolve, reject) => {\n      wx.request({\n        url: `https://www.huishoubao.com/v2/1196/api/products_evaluate/${params.productId}/${params.selects}`,\n        success: function(res){\n          if (res.data) {\n            resolve(res.data.data)\n          } else {\n            reject(res)\n          }\n        }\n      })\n    })\n  },\n  // 机型搜索\n  search (params) {\n    return new Promise((resolve, reject) => {\n      wx.request({\n        url: url.search + params.key,\n        data: {\n          pageIndex: params.pageIndex || 1\n        },\n        success: function(res){\n          if (res.data) {\n            resolve(res.data.data)\n          } else {\n            reject(res)\n          }\n        }\n      })\n    })\n  },\n  priceHistory (params) {\n    return new Promise((resolve, reject) => {\n      wx.request({\n        url: `${url.priceHistory}${params.price}/${params.productId}/`,\n        success: function(res){\n          if (res.data) {\n            resolve(res.data.data)\n          } else {\n            reject(res)\n          }\n        }\n      })\n    })\n  }\n}"]}