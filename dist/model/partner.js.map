{"version":3,"sources":["../../model/partner.js"],"names":["icare","trade","params","Promise","resolve","reject","post","url","data","sid","parseInt","uid","pid","order","orderNum","tel","product","productName","productid","productId","pmoney","price","success","res","fail","err","partMap","store","appid","extraData","setPartnerInfo","getPartnerApi"],"mappings":";;;;;;AAAA;;;;;;AACA,IAAMA,QAAQ;AACZ;;;;;;;;;;AAUAC,OAXY,iBAWLC,MAXK,EAWG;AACb,WAAO,IAAIC,OAAJ,CAAY,UAACC,OAAD,EAAUC,MAAV,EAAqB;AACvC,sBAAMC,IAAN,CAAW;AACRC,aAAK,uDADG;AAERC,cAAM;AACJC,eAAKC,SAASR,OAAOO,GAAhB,KAAwB,CADzB;AAEJE,eAAKD,SAASR,OAAOS,GAAhB,KAAwB,CAFzB;AAGJC,eAAKV,OAAOU,GAHR;AAIJC,iBAAOX,OAAOY,QAJV;AAKJC,eAAKb,OAAOa,GALR;AAMJC,mBAASd,OAAOe,WANZ;AAOJC,qBAAWR,SAASR,OAAOiB,SAAhB,CAPP;AAQJC,kBAAQlB,OAAOmB;AARX,SAFE;AAYRC,eAZQ,mBAYCC,GAZD,EAYM;AACZnB,kBAAQmB,GAAR;AACD,SAdO;AAeRC,YAfQ,gBAeFC,GAfE,EAeG;AACTpB,iBAAOoB,GAAP;AACD;AAjBO,OAAX;AAmBA,KApBM,CAAP;AAqBD;AAjCW,CAAd;;AAoCA;;;AAGA,IAAMC,UAAU;AACd,wBAAsB1B,KADR,EACe;AAC7B,wBAAsBA,KAFR,CAEc;AAFd,CAAhB;;AAKA,IAAM2B,QAAQ;AACZC,SAAO,EADK;AAEZC,aAAW,EAFC;AAGZjB,OAAK;AAHO,CAAd;;kBAMe;AACbe,SAAOA,KADM;AAEbG,gBAFa,gCAEuB;AAAA,QAAnBF,KAAmB,QAAnBA,KAAmB;AAAA,QAAZC,SAAY,QAAZA,SAAY;;AAClC,SAAKF,KAAL,CAAWC,KAAX,GAAmBA,KAAnB;AACA,SAAKD,KAAL,CAAWE,SAAX,GAAuBA,SAAvB;AACA,SAAKF,KAAL,CAAWf,GAAX,GAAiBiB,UAAUjB,GAAV,GAAgBiB,UAAUjB,GAA1B,GAAgC,IAAjD;AACD,GANY;AAObmB,eAPa,2BAOI;AACf,WAAOL,QAAQ,KAAKC,KAAL,CAAWC,KAAnB,CAAP;AACD;AATY,C","file":"partner.js","sourcesContent":["import Utils from '../util/utils';\nconst icare = {\n  /**\n   * sid 促销员 id 非必填\n   * uid 必填 用户id\n   * pid 渠道id 必须\n   * order 订单id 必须\n   * tel 手机号码 必须\n   * product 机型名称 必须\n   * productid 机型id 必须\n   * pmoney 估价金额 必须（单位分）\n   */\n  trade (params) {\n    return new Promise((resolve, reject) => {\n     Utils.post({\n        url: 'https://www.icarephone.com/business/hsb/recover_order',\n        data: {\n          sid: parseInt(params.sid) || 0,\n          uid: parseInt(params.uid) || 0,\n          pid: params.pid,\n          order: params.orderNum,\n          tel: params.tel,\n          product: params.productName,\n          productid: parseInt(params.productId),\n          pmoney: params.price\n        },\n        success (res) {\n          resolve(res)\n        },\n        fail (err) {\n          reject(err);\n        }\n      })\n    })\n  }\n};\n\n/**\n * 合作伙伴appid映射\n */\nconst partMap = {\n  'wxeb46e3105e6634c5': icare, // icare 用户端\n  'wx3b23b2ebeec25313': icare // icare 促销员端\n};\n\nconst store = {\n  appid: '',\n  extraData: {},\n  pid: ''\n};\n\nexport default {\n  store: store,\n  setPartnerInfo ({appid, extraData}) {\n    this.store.appid = appid;\n    this.store.extraData = extraData;\n    this.store.pid = extraData.pid ? extraData.pid : 1196;\n  },\n  getPartnerApi () {\n    return partMap[this.store.appid]\n  }\n}"]}