{"version":3,"sources":["../../../../page/pages/success/index.js"],"names":["ctx","app","getApp","Page","data","orderInfo","curTime","onLoad","wx","setNavigationBarTitle","title","onShow","options","getCurPageOpt","curTimeObj","formatDate","console","log","JSON","parse","setData","Y","M","D","h","m","s","ordertype","takeSfOrder","then","trackNum","err","switchPage","e","dataset","currentTarget","navigateTo","url","fail","res","success"],"mappings":";;AAAA;;;;AACA;;;;AACA;;;;;;AACA,IAAIA,YAAJ;AAAA,IAASC,MAAMC,QAAf;;AAEAC,KAAK;;AAEHC,QAAM;AACJC,eAAW,EADP;AAEJC,aAAS;AAFL,GAFH;;AAOHC,QAPG,oBAOO;AACRP,UAAM,IAAN;AACAQ,OAAGC,qBAAH,CAAyB;AACvBC,aAAO;AADgB,KAAzB;AAGD,GAZE;AAcHC,QAdG,oBAcO;AACR,QAAIC,UAAU,gBAAMC,aAAN,EAAd;AACA,QAAIC,aAAa,gBAAMC,UAAN,EAAjB;AACAC,YAAQC,GAAR,CAAYL,QAAQP,SAApB;AACA,QAAIA,YAAY,EAAhB;AACA,QAAGO,QAAQP,SAAX,EAAsBA,YAAYa,KAAKC,KAAL,CAAWP,QAAQP,SAAnB,CAAZ;AACtBL,QAAIoB,OAAJ,CAAY;AACVf,0BADU;AAEVC,eAAYQ,WAAWO,CAAvB,SAA4BP,WAAWQ,CAAvC,SAA4CR,WAAWS,CAAvD,SAA4DT,WAAWU,CAAvE,SAA4EV,WAAWW,CAAvF,SAA4FX,WAAWY;AAF7F,KAAZ;AAIA,QAAIrB,UAAUsB,SAAV,KAAwB,MAA5B,EAAoC;AACpC,oBAAMC,WAAN,CAAkBvB,SAAlB,EAA6BwB,IAA7B,CAAkC,gBAAQ;AACxCb,cAAQC,GAAR,CAAYb,IAAZ;AACAC,gBAAUyB,QAAV,GAAqB,YAArB;AACD,KAHD,EAGG,eAAO;AACRd,cAAQC,GAAR,CAAYc,GAAZ;AACD,KALD;AAMD,GA/BE;AAiCHC,YAjCG,sBAiCSC,CAjCT,EAiCY;AACb,QAAIC,UAAUD,EAAEE,aAAF,CAAgBD,OAA9B;AACA1B,OAAG4B,UAAH,CAAc;AACZC,WAAKH,QAAQG,GADD;AAEZC,UAFY,gBAENC,GAFM,EAED;AACTvB,gBAAQC,GAAR,CAAYsB,GAAZ;AACD,OAJW;AAKZC,aALY,mBAKHD,GALG,EAKE;AACZvB,gBAAQC,GAAR,CAAYsB,GAAZ;AACD;AAPW,KAAd;AASD;AA5CE,CAAL","file":"index.js","sourcesContent":["import Utils from '../../../util/utils';\nimport order from '../../../model/order';\nimport user from '../../../model/user';\nlet ctx, app = getApp();\n\nPage({\n\n  data: {\n    orderInfo: {},\n    curTime: '',\n  },\n\n  onLoad () {\n    ctx = this;\n    wx.setNavigationBarTitle({\n      title: '提交结果'\n    })\n  },\n\n  onShow () {\n    let options = Utils.getCurPageOpt();\n    let curTimeObj = Utils.formatDate();\n    console.log(options.orderInfo);\n    let orderInfo = {};\n    if(options.orderInfo) orderInfo = JSON.parse(options.orderInfo);\n    ctx.setData({\n      orderInfo,\n      curTime: `${curTimeObj.Y}-${curTimeObj.M}-${curTimeObj.D} ${curTimeObj.h}:${curTimeObj.m}:${curTimeObj.s}`,\n    });\n    if (orderInfo.ordertype !== 'post') return;\n    order.takeSfOrder(orderInfo).then(data => {\n      console.log(data);\n      orderInfo.trackNum = 186451212345;\n    }, err => {\n      console.log(err);\n    })\n  },\n\n  switchPage (e) {\n    let dataset = e.currentTarget.dataset;\n    wx.navigateTo({\n      url: dataset.url,\n      fail (res) {\n        console.log(res)\n      },\n      success (res) {\n        console.log(res);\n      }\n    })\n  }\n});"]}